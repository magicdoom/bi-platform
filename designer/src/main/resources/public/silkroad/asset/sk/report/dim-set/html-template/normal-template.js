define(["template"],function(a){function b(b){"use strict";b=b||{};var c=a.utils,d=(c.$helpers,c.$each),e=b.dim,f=(b.$cube,b.i,c.$escape),g=b.cubes,h=(b.j,b.$dim,b.$index,b.relationTables),i=(b.$relationTable,b.$field,"");return i+='<div class="dim-container-normal">\r\n    <ul class="normal-column-names c-f">\r\n        <li><span>主数据表</span></li>\r\n        <li><span>主表字段</span></li>\r\n        <li><span>关联数据表</span></li>\r\n        <li><span>关联表字段</span></li>\r\n    </ul>\r\n    <div class="normal-main j-normal-main">\r\n        <!--循环cube列表（dim.normal）-->\r\n        ',d(e.normal,function(a){i+='\r\n        <div class="normal-main-box c-f j-normal-main-box">\r\n            <span class="cube-name" cubeId =',i+=f(a.cubeId),i+=" title=",i+=f(g[a.cubeId].name),i+=">",i+=f(g[a.cubeId].name),i+='</span>\r\n            <span class="normal-cube-open j-normal-cube-open"></span>\r\n            <div class="normal-relation-container j-normal-relation-container c-f">\r\n                <!--循环cube中的行（dim.normal.children）-->\r\n                ',d(a.children,function(b,c){i+='\r\n                <div class="normal-relation-box j-normal-relation-box">\r\n                    ',0!==c&&(i+='\r\n                        <span class="normal-broken-line"></span>\r\n                    '),i+='\r\n                    <select class="normal-relation-box-select-fields mr-20">\r\n                        <option value="0">请选择</option>\r\n                        <!-- 循环每一行中的主表字段(cubes.cube1.currDims)-->\r\n                        ',d(g[a.cubeId].currDims,function(a){i+="\r\n                        <option value=",i+=f(a.id),i+="\r\n                            ",a.id===b.currDim&&(i+='selected="selected"\r\n                            '),i+=">",i+=f(a.name),i+="\r\n                        </option>\r\n                        "}),i+='\r\n                    </select>\r\n                    <span class="equal">=</span>\r\n                    <select class="normal-relation-box-select-table mr-30 j-normal-relation-table-select" >\r\n                        <option value="0">请选择</option>\r\n                        <!-- 循环关联数据表(relationTables)-->\r\n                        ',d(h,function(a){i+="\r\n                        <option value=",i+=f(a.id),i+="\r\n                        ",a.id===b.relationTable&&(i+='selected="selected"\r\n                        '),i+=">",i+=f(a.name),i+="\r\n                        </option>\r\n                        "}),i+='\r\n                    </select>\r\n                    <select class="normal-relation-box-select-fields mr-10">\r\n                        <option value="0">请选择</option>\r\n                        <!-- 循环关联数据表(relationTables)-->\r\n                        ',d(h,function(a){i+="\r\n                        <!-- 如果关联数据表等于当前行的的关联表,那么就循环此关联表中的字段-->\r\n                        ",a.id===b.relationTable&&(i+="\r\n                            ",d(a.fields,function(a){i+="\r\n                                <option value=",i+=f(a.id),i+="\r\n                                ",a.id===b.field&&(i+='selected="selected"\r\n                                '),i+=">",i+=f(a.name),i+="\r\n                                </option>\r\n                            "}),i+="\r\n                        "),i+="\r\n                        "}),i+='\r\n                    </select>\r\n                    <span class="delete j-normal-delete"></span>\r\n                    ',a.children.length===c+1&&(i+='\r\n                        <span class="add j-normal-add"></span>\r\n                    '),i+="\r\n                </div>\r\n\r\n                "}),i+='\r\n            </div>\r\n            <span class="normal-error-msg j-normal-error-msg hide"></span>\r\n        </div>\r\n        '}),i+='\r\n    </div>\r\n    <span class="prompt mt-30">注：建立关联后，默认将关联表的所有字段全部取出</span>\r\n</div>'}return{render:b}});